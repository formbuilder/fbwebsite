<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>FormBuilder - Perl CGI Form Builder CPAN module</title>
<link type="text/css" rel="stylesheet" href="/layout/style.css" />
<script src="/js/miniwin.js" type="text/javascript"></script>
</head>
<body>
<!-- top navbar -->
<table width="100%" border="0" cellspacing="0" class="bar"><tr>
<td width="228"><a href="/"><img src="/images/fb_logo5.gif" width="228" height="42" 
 border="0" alt="Perl Form Builder" /></a></td>
<td class="bar">
   ::<a href="/features/" class="bar">Features</a>
   ::<a href="/download/" class="bar">Download</a>
   ::<a href="/tutor/" class="bar">Tutorial</a>
   ::<a href="/ex/" class="bar">Examples</a>
   <br />
   ::<a href="/docs/" class="bar">Documentation</a>
   ::<a href="/mailman/listinfo/fbusers" class="bar">Join the Mailing List</a>
   ::<a href="http://blog.gmane.org/gmane.comp.lang.perl.modules.formbuilder" class="bar">List Archives</a>
   ::<a href="/contrib/" class="bar">Contribute</a>
</td>
<td class="bar" align="center" valign="middle">
<!-- BEGIN PAYPAL CODE -->
<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_xclick" />
<input type="hidden" name="business" value="nate@wiger.org" />
<input type="hidden" name="item_name" value="FormBuilder development support" />
<input type="image" src="http://www.paypal.com/images/x-click-but04.gif" 
name="submit" alt="Donate using PayPal" />
</form>
</td>
</tr>
</table>
<!-- spacer -->
<div id="navspacer"><img src="/images/clear.gif" width="1" height="1"></div>
<table class="body" border="0" cellpadding="5" cellspacing="0">
<tr><td valign="top" class="body">
<!-- opens the left navbar -->
<table border="0" cellpadding="5" cellspacing="0" class="leftnav">
<tr>
<td valign="top" class="leftnav">
<font size=2>
<form action="/redirect.pl" method="GET">
<select name="url" onChange="this.form.submit()">
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder.html">CGI::FormBuilder</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder.html">CGI::FormBuilder</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder/Field.html">CGI::FormBuilder::Field</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder/Messages.html">CGI::FormBuilder::Messages</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder/Multi.html">CGI::FormBuilder::Multi</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder/Source.html">CGI::FormBuilder::Source</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder/Source/File.html">CGI::FormBuilder::Source::File</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder/Template.html">CGI::FormBuilder::Template</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder/Template/Builtin.html">CGI::FormBuilder::Template::Builtin</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder/Template/Div.html">CGI::FormBuilder::Template::Div</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder/Template/Fast.html">CGI::FormBuilder::Template::Fast</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder/Template/HTML.html">CGI::FormBuilder::Template::HTML</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder/Template/TT2.html">CGI::FormBuilder::Template::TT2</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder/Template/Text.html">CGI::FormBuilder::Template::Text</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder/Test.html">CGI::FormBuilder::Test</option>
<option value="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder/Util.html" selected>CGI::FormBuilder::Util</option>
<option value=/docs/>Version other than 3.05</option>
</select></form></font>
<style>ul { margin-left: 0; padding-left: 10px; }</style>
<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>CGI::FormBuilder::Util - Utility functions for FormBuilder</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#useful_functions">USEFUL FUNCTIONS</a></li>
	<ul>

		<li><a href="#debug__level___string_">debug($level, $string)</a></li>
		<li><a href="#belch__string_"><code>belch($string)</code></a></li>
		<li><a href="#puke__string_"><code>puke($string)</code></a></li>
		<li><a href="#escapeurl__string_"><code>escapeurl($string)</code></a></li>
		<li><a href="#escapehtml__string_"><code>escapehtml($string)</code></a></li>
		<li><a href="#escapejs__string_"><code>escapejs($string)</code></a></li>
		<li><a href="#htmltag__name___attr_">htmltag($name, %attr)</a></li>
		<li><a href="#htmlattr__name___attr_">htmlattr($name, %attr)</a></li>
		<li><a href="#toname__string_"><code>toname($string)</code></a></li>
		<li><a href="#tovar__string_"><code>tovar($string)</code></a></li>
		<li><a href="#ismember__el___array_">ismember($el, @array)</a></li>
	</ul>

	<li><a href="#useless_functions">USELESS FUNCTIONS</a></li>
	<ul>

		<li><a href="#autodata__ref_"><code>autodata($ref)</code></a></li>
		<li><a href="#arghash____"><code>arghash(@_)</code></a></li>
		<li><a href="#arglist____"><code>arglist(@_)</code></a></li>
		<li><a href="#indent__num_"><code>indent($num)</code></a></li>
		<li><a href="#optalign___opt_"><code>optalign(\@opt)</code></a></li>
		<li><a href="#optsort__sortref___opt_">optsort($sortref, @opt)</a></li>
		<li><a href="#optval__opt_"><code>optval($opt)</code></a></li>
		<li><a href="#rearrange__ref___name_">rearrange($ref, $name)</a></li>
		<li><a href="#basename">basename</a></li>
	</ul>

	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#revision">REVISION</a></li>
	<li><a href="#author">AUTHOR</a></li>
</ul>
<!-- INDEX END -->

<!-- closes the left navbar -->
</td></tr></table></td><td valign="top" class="body">

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>CGI::FormBuilder::Util - Utility functions for FormBuilder</p>
<p>
</p>

<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
    use CGI::FormBuilder::Util;

    belch &quot;Badness&quot;;
    puke &quot;Egads&quot;;
    debug 2, &quot;Debug message for level 2&quot;;</pre>
<p>
</p>

<h1><a name="description">DESCRIPTION</a></h1>
<p>This module exports some common utility functions for <strong>FormBuilder</strong>.
These functions are intended for internal use, however I must admit
that, from time to time, I just import this module and use some of
the routines directly (like <code>htmltag()</code> to generate HTML).</p>
<p>
</p>

<h1><a name="useful_functions">USEFUL FUNCTIONS</a></h1>
<p>These can be used directly and are somewhat useful. Don't tell anyone
I said that, though.</p>
<p>
</p>
<h2><a name="debug__level___string_">debug($level, $string)</a></h2>
<p>This prints out the given string only if <code>$DEBUG</code> is greater than
the <code>$level</code> specified. For example:</p>
<pre>
    $CGI::FormBuilder::Util::DEBUG = 1;
    debug 1, &quot;this is printed&quot;;
    debug 2, &quot;but not this one&quot;;</pre>
<p>A newline is automatically included, so don't provide one of your own.</p>
<p>
</p>
<h2><a name="belch__string_"><code>belch($string)</code></a></h2>
<p>A modified <code>warn</code> that prints out a better message with a newline added.</p>
<p>
</p>
<h2><a name="puke__string_"><code>puke($string)</code></a></h2>
<p>A modified <code>die</code> that prints out a useful message.</p>
<p>
</p>
<h2><a name="escapeurl__string_"><code>escapeurl($string)</code></a></h2>
<p>Returns a properly escaped string suitable for including in URL params.</p>
<p>
</p>
<h2><a name="escapehtml__string_"><code>escapehtml($string)</code></a></h2>
<p>Returns an HTML-escaped string suitable for embedding in HTML tags.</p>
<p>
</p>
<h2><a name="escapejs__string_"><code>escapejs($string)</code></a></h2>
<p>Returns a string suitable for including in JavaScript. Minimal processing.</p>
<p>
</p>
<h2><a name="htmltag__name___attr_">htmltag($name, %attr)</a></h2>
<p>This generates an XHTML-compliant tag for the name <code>$name</code> based on the
<code>%attr</code> specified. For example:</p>
<pre>
    my $table = htmltag('table', cellpadding =&gt; 1, border =&gt; 0);</pre>
<p>No routines are provided to close tags; you must manually print a closing
<code>&lt;/table&gt;</code> tag.</p>
<p>
</p>
<h2><a name="htmlattr__name___attr_">htmlattr($name, %attr)</a></h2>
<p>This cleans any internal <strong>FormBuilder</strong> attributes from the specified tag.
It is automatically called by <code>htmltag()</code>.</p>
<p>
</p>
<h2><a name="toname__string_"><code>toname($string)</code></a></h2>
<p>This is responsible for the auto-naming functionality of <strong>FormBuilder</strong>.
Since you know Perl, it's easiest to just show what it does:</p>
<pre>
    $name =~ s!\.\w+$!!;                # lose trailing &quot;.suf&quot;
    $name =~ s![^a-zA-Z0-9.-/]+! !g;    # strip non-alpha chars
    $name =~ s!\b(\w)!\u$1!g;           # convert _ to space/upper</pre>
<p>This results in something like ``cgi_script.pl'' becoming ``Cgi Script''.</p>
<p>
</p>
<h2><a name="tovar__string_"><code>tovar($string)</code></a></h2>
<p>Turns a string into a variable name. Basically just strips <code>\W</code>,
and prefixes ``fb_'' on the front of it.</p>
<p>
</p>
<h2><a name="ismember__el___array_">ismember($el, @array)</a></h2>
<p>Returns true if <code>$el</code> is in <code>@array</code></p>
<p>
</p>

<h1><a name="useless_functions">USELESS FUNCTIONS</a></h1>
<p>These are totally useless outside of <strong>FormBuilder</strong> internals.</p>
<p>
</p>
<h2><a name="autodata__ref_"><code>autodata($ref)</code></a></h2>
<p>This dereferences <code>$ref</code> and returns the underlying data. For example:</p>
<pre>
    %hash  = autodata($hashref);
    @array = autodata($arrayref);</pre>
<p>
</p>
<h2><a name="arghash____"><code>arghash(@_)</code></a></h2>
<p>This returns a hash of options passed into a sub:</p>
<pre>
    sub field {
        my $self = shift;
        my %opt  = arghash(@_);
    }</pre>
<p>It will return a hashref in scalar context.</p>
<p>
</p>
<h2><a name="arglist____"><code>arglist(@_)</code></a></h2>
<p>This returns a list of args passed into a sub:</p>
<pre>
    sub value {
        my $self = shift;
        $self-&gt;{value} = arglist(@_);</pre>
<p>It will return an arrayref in scalar context.</p>
<p>
</p>
<h2><a name="indent__num_"><code>indent($num)</code></a></h2>
<p>A simple sub that returns 4 spaces x <code>$num</code>. Used to indent code.</p>
<p>
</p>
<h2><a name="optalign___opt_"><code>optalign(\@opt)</code></a></h2>
<p>This returns the options specified as an array of arrayrefs, which
is what <strong>FormBuilder</strong> expects internally.</p>
<p>
</p>
<h2><a name="optsort__sortref___opt_">optsort($sortref, @opt)</a></h2>
<p>This sorts and returns the options based on <code>$sortref</code>. It expects
<code>@opt</code> to be in the format returned by <code>optalign()</code>. The <code>$sortref</code>
spec can be the string <code>NAME</code>, <code>NUM</code>, or a reference to a <code>&amp;sub</code>
which takes pairs of values to compare.</p>
<p>
</p>
<h2><a name="optval__opt_"><code>optval($opt)</code></a></h2>
<p>This takes one of the elements of <code>@opt</code> and returns it split up.
Useless outside of <strong>FormBuilder</strong>.</p>
<p>
</p>
<h2><a name="rearrange__ref___name_">rearrange($ref, $name)</a></h2>
<p>Rearranges arguments designed to be per-field from the global inheritor.</p>
<p>
</p>
<h2><a name="basename">basename</a></h2>
<p>Returns the script name or $0 hacked up to the first dir</p>
<p>
</p>

<h1><a name="see_also">SEE ALSO</a></h1>
<p><a href="/download/CGI-FormBuilder-3.05/docs/CGI/FormBuilder.html">the CGI::FormBuilder manpage</a></p>
<p>
</p>

<h1><a name="revision">REVISION</a></h1>
<p>$Id: Util.pm 91 2006-12-18 10:27:01Z nwiger $</p>
<p>
</p>

<h1><a name="author">AUTHOR</a></h1>
<p>Copyright (c) 2000-2006 Nate Wiger &lt;<a href="mailto:nate@wiger.org">nate@wiger.org</a>&gt;. All Rights Reserved.</p>
<p>This module is free software; you may copy this under the terms of
the GNU General Public License, or the Artistic License, copies of
which should have accompanied your Perl kit.</p>




</td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="2" class="bar">
<tr><td align="center" class="bar">
FormBuilder is &copy; 2000-2006 <a href="/contrib/author.pl" class="bar">Nate Wiger</a>,
with contributions from <a href="/contrib/" class="bar">many people</a>.
</td></tr></table>
<div align="center">
<a href="http://www.nateware.com/"><img src="/images/nateware_powered.gif"
 border="0" width="92" height="33" alt="Nateware" /></a>
</div>
</body></html>
