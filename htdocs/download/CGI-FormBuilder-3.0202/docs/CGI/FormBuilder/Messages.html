<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>FormBuilder - Perl CGI Form Builder CPAN module</title>
<link type="text/css" rel="stylesheet" href="/layout/style.css" />
<script src="/js/miniwin.js" type="text/javascript"></script>
</head>
<body>
<!-- top navbar -->
<table width="100%" border="0" cellspacing="0" class="bar"><tr>
<td width="228"><a href="/"><img src="/images/fb_logo5.gif" width="228" height="42" 
 border="0" alt="Perl Form Builder" /></a></td>
<td class="bar">
   ::<a href="/features/" class="bar">Features</a>
   ::<a href="/download/" class="bar">Download</a>
   ::<a href="/tutor/" class="bar">Tutorial</a>
   ::<a href="/ex/" class="bar">Examples</a>
   <br />
   ::<a href="/docs/" class="bar">Documentation</a>
   ::<a href="/mailman/listinfo/fbusers" class="bar">Join the Mailing List</a>
   ::<a href="http://blog.gmane.org/gmane.comp.lang.perl.modules.formbuilder" class="bar">List Archives</a>
   ::<a href="/contrib/" class="bar">Contribute</a>
</td>
<td class="bar" align="center" valign="middle">
<!-- BEGIN PAYPAL CODE -->
<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_xclick" />
<input type="hidden" name="business" value="nate@wiger.org" />
<input type="hidden" name="item_name" value="FormBuilder development support" />
<input type="image" src="http://www.paypal.com/images/x-click-but04.gif" 
name="submit" alt="Donate using PayPal" />
</form>
</td>
</tr>
</table>
<!-- spacer -->
<div id="navspacer"><img src="/images/clear.gif" width="1" height="1"></div>
<table class="body" border="0" cellpadding="5" cellspacing="0">
<tr><td valign="top" class="body">
<!-- opens the left navbar -->
<table border="0" cellpadding="5" cellspacing="0" class="leftnav">
<tr>
<td valign="top" class="leftnav">
<font size=2>
<form action="/redirect.pl" method="GET">
<select name="url" onChange="this.form.submit()">
<option value="/download/CGI-FormBuilder-3.0202/docs/CGI/FormBuilder/Field.html">CGI::FormBuilder::Field</option>
<option value="/download/CGI-FormBuilder-3.0202/docs/CGI/FormBuilder/Messages.html" selected>CGI::FormBuilder::Messages</option>
<option value="/download/CGI-FormBuilder-3.0202/docs/CGI/FormBuilder/Multi.html">CGI::FormBuilder::Multi</option>
<option value="/download/CGI-FormBuilder-3.0202/docs/CGI/FormBuilder.html">CGI::FormBuilder</option>
<option value="/download/CGI-FormBuilder-3.0202/docs/CGI/FormBuilder/Source/File.html">CGI::FormBuilder::Source::File</option>
<option value="/download/CGI-FormBuilder-3.0202/docs/CGI/FormBuilder/Source.html">CGI::FormBuilder::Source</option>
<option value="/download/CGI-FormBuilder-3.0202/docs/CGI/FormBuilder/Template/Fast.html">CGI::FormBuilder::Template::Fast</option>
<option value="/download/CGI-FormBuilder-3.0202/docs/CGI/FormBuilder/Template/HTML.html">CGI::FormBuilder::Template::HTML</option>
<option value="/download/CGI-FormBuilder-3.0202/docs/CGI/FormBuilder/Template.html">CGI::FormBuilder::Template</option>
<option value="/download/CGI-FormBuilder-3.0202/docs/CGI/FormBuilder/Template/Text.html">CGI::FormBuilder::Template::Text</option>
<option value="/download/CGI-FormBuilder-3.0202/docs/CGI/FormBuilder/Template/TT2.html">CGI::FormBuilder::Template::TT2</option>
<option value="/download/CGI-FormBuilder-3.0202/docs/CGI/FormBuilder/Util.html">CGI::FormBuilder::Util</option>
<option value=/docs/>Version other than 3.0202</option>
</select></form></font>
<style>ul { margin-left: 0; padding-left: 10px; }</style>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>CGI::FormBuilder::Messages - Localized message support for FormBuilder</title>
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#subclassing_messages">SUBCLASSING MESSAGES</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#revision">REVISION</a></li>
	<li><a href="#author">AUTHOR</a></li>
</ul>
<!-- INDEX END -->

<!-- closes the left navbar -->
</td></tr></table></td><td valign="top" class="body">

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>CGI::FormBuilder::Messages - Localized message support for FormBuilder</p>
<p>
</p>

<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
    use CGI::FormBuilder::Messages;

    my $mesg = CGI::FormBuilder::Messages-&gt;new($file || \%hash);

    print $mesg-&gt;js_invalid_text;</pre>
<p>
</p>

<h1><a name="description">DESCRIPTION</a></h1>
<p>This module handles multilingual messaging for <strong>FormBuilder</strong>. It is invoked
by specifying the <code>messages</code> option to the top-level <code>new()</code> method. Each
message that <strong>FormBuilder</strong> outputs is given a unique key. If you specify a
custom message for a given key, then that message is used. Otherwise, the
default is printed. Note that it is up to you to figure out what to
pass in - there is no magic <code>LC_MESSAGES</code> mysterium to this module.</p>
<p>For example, let's say you wrote a script that needed to display custom
JavaScript error messages. You could do something like this:</p>
<pre>
    # Get language requested
    my $lang = $ENV{HTTP_ACCEPT_LANGUAGE} || 'en';

    # Get the appropriate file
    my $langfile = &quot;/languages/formbuilder/messages.$lang&quot;;

    my $form = CGI::FormBuilder-&gt;new(
                    fields =&gt; \@fields,
                    messages =&gt; $langfile,
               );

    print $form-&gt;render;</pre>
<p>Your language file would then contain something like the following:</p>
<pre>
    # FormBuilder messages for &quot;en&quot; locale
    js_invalid_start      %s error(s) were found in your form:\n
    js_invalid_end        Fix these fields and try again!
    js_invalid_select     - You must choose an option for the &quot;%s&quot; field\n</pre>
<p>Alternatively, you could specify this directly as a hashref:</p>
<pre>
    my $form = CGI::FormBuilder-&gt;new(
                    fields =&gt; \@fields,
                    messages =&gt; {
                        js_invalid_start  =&gt; '%s error(s) were found in your form:\n',
                        js_invalid_end    =&gt; 'Fix these fields and try again!',
                        js_invalid_select =&gt; '- Choose an option from the &quot;%s&quot; list\n',
                    }
               );</pre>
<p>Although in practice this is rarely useful, unless you just want to
tweak one or two things.</p>
<p>This system is easy, and there are many many messages that can be customized.
Here is a list of messages, along with their default values:</p>
<pre>
    form_invalid_checkbox       Check one or more options
    form_invalid_color          red
    form_invalid_default        Invalid entry
    form_invalid_file           Invalid filename
    form_invalid_input          Invalid entry
    form_invalid_opentag        &lt;font color=&quot;red&quot;&gt;&lt;b&gt;
    form_invalid_radio          Choose an option
    form_invalid_select         Select an option from this list
    form_invalid_textarea       Please fill this in

    form_invalid_text           &lt;p&gt;%s error(s) were encountered with your submission.
                            Please correct the fields %shighlighted%s below.&lt;/p&gt;
    form_invalid_closetag       &lt;/b&gt;&lt;/font&gt;
    form_invalid_password       Invalid entry

    form_required_text          &lt;p&gt;Fields that are %shighlighted%s are required.&lt;/p&gt;
    form_required_closetag      &lt;/b&gt;
    form_required_opentag       &lt;b&gt;

    form_confirm_text           Success! Your submission has been received %s.

    form_select_default         -select-
    form_grow_default           Additional %s
    form_other_default          Other:
    form_reset_default          Reset
    form_submit_default         Submit

    js_noscript                 &lt;p&gt;&lt;font color=&quot;red&quot;&gt;&lt;b&gt;Please enable JavaScript or use a newer browser.&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;
    js_invalid_start            %s error(s) were encountered with your submission:
    js_invalid_end              Please correct these fields and try again.

    js_invalid_checkbox         - Check one or more of the &quot;%s&quot; options
    js_invalid_default          - Invalid entry for the &quot;%s&quot; field
    js_invalid_file             - Invalid filename for the &quot;%s&quot; field
    js_invalid_input            - Invalid entry for the &quot;%s&quot; field
    js_invalid_multiple         - Select one or more options from the &quot;%s&quot; list
    js_invalid_password         - Invalid entry for the &quot;%s&quot; field
    js_invalid_radio            - Choose one of the &quot;%s&quot; options
    js_invalid_select           - Select an option from the &quot;%s&quot; list
    js_invalid_textarea         - Please fill in the &quot;%s&quot; field

    mail_confirm_subject        %s Submission Confirmation
    mail_confirm_text           Your submission has been received %s, and will be processed shortly.</pre>
<p>The <code>js_</code> tags are used in JavaScript alerts, whereas the <code>form_</code> tags
are used in HTML and templates managed by FormBuilder.</p>
<p>In some of the messages, you will notice a <code>%s</code> <code>printf</code> format. This
is because these messages will include certain details for you. For example,
the <code>js_invalid_start</code> tag will print the number of errors if you include
the <code>%s</code> format tag. Of course, this is optional, and you can leave it out.</p>
<p>The best way to get an idea of how these work is to experiment a little.
It should become obvious really quickly.</p>
<p>
</p>

<h1><a name="subclassing_messages">SUBCLASSING MESSAGES</a></h1>
<p>In addition, this module can be used as a base class which you can override to
create arbitrarily complicated message handling routines. For each message
type, <strong>FormBuilder</strong> calls an accessor method for that message. For example:</p>
<pre>
    my $select_error = $mesg-&gt;form_invalid_select;</pre>
<p>As such, you could create a sub class, say <code>My::Messages</code>, that overrode
this message:</p>
<pre>
    package My::Messages;
    use base 'CGI::FormBuilder::Messages';

    sub form_invalid_select {
        return 'oopsie! the &quot;%s&quot; field is broken!';
    }</pre>
<p>Then, you would instantiate an object from this class and pass that to 
the top-level <code>new()</code> method:</p>
<pre>
    use CGI::FormBuilder;
    use My::Messages;

    my $mesg = My::Messages-&gt;new;   # provided in base class
    my $form = CGI::FormBuilder-&gt;new(
                    messages =&gt; $mesg
               );</pre>
<p>If this doesn't make immediate sense, just stick to using a messages file.</p>
<p>
</p>

<h1><a name="see_also">SEE ALSO</a></h1>
<p><a href="/download/CGI-FormBuilder-3.0202/docs/CGI/FormBuilder.html">the CGI::FormBuilder manpage</a></p>
<p>
</p>

<h1><a name="revision">REVISION</a></h1>
<p>$Id: Messages.pm,v 1.16 2005/04/12 21:38:59 nwiger Exp $</p>
<p>
</p>

<h1><a name="author">AUTHOR</a></h1>
<p>Copyright (c) 2000-2005 Nathan Wiger &lt;<a href="mailto:nate@sun.com">nate@sun.com</a>&gt;. All Rights Reserved.</p>
<p>This module is free software; you may copy this under the terms of
the GNU General Public License, or the Artistic License, copies of
which should have accompanied your Perl kit.</p>




</td></tr></table>
<table width="100%" border="0" cellspacing="0" cellpadding="2" class="bar">
<tr><td align="center" class="bar">
FormBuilder is &copy; 2000-2006 <a href="/contrib/author.pl" class="bar">Nate Wiger</a>,
with contributions from <a href="/contrib/" class="bar">many people</a>.
</td></tr></table>
<div align="center">
<a href="http://www.nateware.com/"><img src="/images/nateware_powered.gif"
 border="0" width="92" height="33" alt="Nateware" /></a>
</div>
</body></html>
